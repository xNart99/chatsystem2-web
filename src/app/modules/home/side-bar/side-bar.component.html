<div class="w-100 h-100 d-flex flex-column">
  <div class="user-bar bg-secondary d-flex justify-content-between">
    <div class="user-info d-flex align-items-center">
      <div class="user-profile-pic h-100 d-flex align-items-center ms-2 me-2">
        <img [src]="user.profileImage || '../../../../assets/default-profile-icon-24.jpeg'" [alt]="user.username">
      </div>
      <div class="w-100 h-100">
        <div class="username me-2 text-white">{{ user.username }}</div>
        <div class="user-role d-flex align-items-center">
          <span
            class="badge text-white {{ user.role === 'super' ? 'bg-warning' : (user.role === 'groupadmin' ? 'bg-primary' : user.role === 'groupassis' ? 'bg-info' : 'bg-dark') }}">{{
            user.role || 'n/a'}}</span>
        </div>
      </div>
    </div>
    <div class="user-btns d-flex">
      <!-- for phase 2 -->
      <!-- <div class="user-edit-btn h-100">
        <button class="btn btn-primary w-100 h-100 rounded-0">
          <span class="material-symbols-rounded">
            edit_square
          </span>
        </button>
      </div> -->
      <div class="user-logout-btn h-100">
        <button class="d-flex align-items-center btn btn-danger w-100 h-100 rounded-0" (click)="logout()">
          <span class="material-symbols-rounded">
            logout
          </span>
        </button>
      </div>
    </div>
  </div>
  <app-chat-toolbar (onSearch)="searchValue = $event" [havePermission]="checkPermisstion()" (createGroup)="openCreateGroupModal()"></app-chat-toolbar>
  <div class="conversations flex-grow-1 overflow-auto">
    <ng-container *ngFor="let group of groups">
      <app-group-bar [group]="group" *ngIf="group.name.includes(searchValue)" (click)="selectGroup(group)" [isSelected]="selectedGroup == group"></app-group-bar>
    </ng-container>
  </div>
  <div class="members-manager-section" *ngIf="checkPermisstion()">
    <div class="members-manager-btn">
      <button (click)="onMemberManagerClick()" class="btn btn-primary w-100 h-100 rounded-0 d-flex align-items-center justify-content-center p-2" [routerLink]="['/home', 'members-manager']">
        <span class="material-symbols-rounded me-2">
          people
        </span>
        <span>
          Members Manager
        </span>
      </button>
    </div>
  </div>
</div>